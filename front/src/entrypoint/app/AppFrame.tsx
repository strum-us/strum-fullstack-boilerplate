import React from 'react'

const isElectron = process.env.IS_ELECTRON
export function AppFrame({ children }) {
  if (process.platform === 'darwin' || !isElectron) {
    return (
      <div className='w-full h-screen'>
        {children}
      </div>
    )
  }

  const handleClickButton = (btnType: string) => {
    const electron = require('electron')
    const trayWindow = electron.remote?.getCurrentWindow()
    if (!trayWindow) { return }

    if (btnType === 'close') {
      trayWindow.hide()
    } else if (btnType === 'minimize') {
      trayWindow.minimize()
    }
  }

  return (
    <div className='flex flex-col w-full h-screen'>
      <div className='flex flex-row bg-white h-9'>
        <div className='flex flex-row items-center flex-grow px-4 text-sm text-black drag-app'>
          {SVGLogo}
        </div>
        <div className='flex flex-row flex-grow-0 h-full min-w-max'>
          <div
            onClick={() => handleClickButton('minimize')}
            className='flex flex-row items-center justify-center w-12 text-black select-none hover:bg-dim-border'>
            {SVGMinimize}
          </div>
          <div
            onClick={() => handleClickButton('close')}
            className='flex flex-row items-center justify-center w-12 text-black select-none hover:bg-negative hover:text-white'>
            {SVGClose}
          </div>
        </div>
      </div>
      {children}
    </div>
  )
}

const SVGClose = <svg width='20' height='20' viewBox='0 0 36 36' fill='none' xmlns='http://www.w3.org/2000/svg'>
  <path d='M26.8589 8.12305L27.877 9.14113L9.14113 27.8755L8.12305 26.8582L26.8589 8.12305Z' fill='currentColor'/>
  <path d='M9.14113 8.12305L27.877 26.8574L26.8589 27.8762L8.12305 9.14185L9.14113 8.12305Z' fill='currentColor'/>
</svg>

const SVGMinimize = <svg width='20' height='20' viewBox='0 0 36 36' fill='none' xmlns='http://www.w3.org/2000/svg'>
  <path d='M30.0719 17.0719L30.0719 18.3839L5.92805 18.3839L5.92763 17.0724L30.0719 17.0719Z' fill='currentColor'/>
</svg>

const SVGLogo = <svg width='86' height='14' viewBox='0 0 86 14' fill='none' xmlns='http://www.w3.org/2000/svg'>
  <g clipPath='url(#clip0)'>
    <path d='M10.1503 0H3.81999C1.71027 0 0 1.71391 0 3.82812V10.1719C0 12.2861 1.71027 14 3.81999 14H10.1503C12.26 14 13.9703 12.2861 13.9703 10.1719V3.82812C13.9703 1.71391 12.26 0 10.1503 0Z' fill='url(#paint0_linear)'/>
    <g filter='url(#filter0_d)'>
      <path d='M8.13154 2.35568L10.5849 6.61324L9.24916 6.49525C9.23688 6.49429 9.2246 6.49347 9.21246 6.49306C9.04102 6.48432 8.87039 6.5221 8.71859 6.60242C8.56678 6.68275 8.43942 6.80263 8.34993 6.94944C8.26044 7.09625 8.21215 7.26454 8.21013 7.43656C8.20812 7.60858 8.25247 7.77796 8.3385 7.92683C8.34614 7.9405 8.35406 7.95335 8.36251 7.96634C8.3692 7.97714 8.37616 7.98767 8.38325 7.99806L10.0297 10.351L7.09891 12.0463C6.84806 12.1907 6.55038 12.2296 6.27093 12.1547C5.99149 12.0798 5.75301 11.897 5.60762 11.6464L2.2242 5.77365C2.08026 5.52217 2.04153 5.22381 2.11646 4.9438C2.19139 4.66378 2.37389 4.42488 2.62407 4.27931L6.6412 1.95509C6.89206 1.81114 7.18956 1.77246 7.46877 1.84751C7.74798 1.92256 7.98624 2.10524 8.13154 2.35568Z' fill='white'/>
    </g>
    <path d='M7.10503 3.5813L3.79682 5.49536C3.53581 5.64638 3.44638 5.98084 3.59708 6.24241C3.74777 6.50397 4.08152 6.59359 4.34253 6.44258L7.65075 4.52851C7.91176 4.3775 8.00119 4.04304 7.85049 3.78147C7.6998 3.5199 7.36604 3.43028 7.10503 3.5813Z' fill='#2F76D6'/>
    <path d='M6.18142 6.32593L4.76362 7.14624C4.50261 7.29726 4.41318 7.63172 4.56387 7.89329C4.71457 8.15485 5.04832 8.24447 5.30933 8.09346L6.72714 7.27314C6.98815 7.12213 7.07758 6.78766 6.92688 6.5261C6.77619 6.26453 6.44244 6.17491 6.18142 6.32593Z' fill='#2B6DD2'/>
    <path d='M12.8731 7.89129C12.8639 7.90744 12.853 7.92253 12.8405 7.93627C12.8402 7.93675 12.8398 7.93717 12.8394 7.9375C12.838 7.93915 12.8365 7.94065 12.835 7.94229C12.8289 7.9483 12.8203 7.95596 12.8113 7.96307L12.8102 7.96389L12.7773 7.98877L12.7539 8.00655L12.7522 8.00778L11.6335 8.85626L11.6182 8.86774L11.6159 8.88688L11.442 10.2814V10.2835L11.4383 10.3127L11.4332 10.3537C11.4333 10.3542 11.4333 10.3546 11.4332 10.3551C11.4313 10.3666 11.4293 10.3777 11.4271 10.3859L11.4253 10.3922C11.4254 10.3927 11.4254 10.3932 11.4253 10.3938C11.4196 10.4114 11.4121 10.4284 11.4029 10.4445C11.3802 10.4841 11.3478 10.5174 11.3089 10.5412C11.27 10.565 11.2257 10.5786 11.1802 10.5808C11.1346 10.583 11.0892 10.5737 11.0482 10.5537C11.0072 10.5337 10.9718 10.5038 10.9454 10.4665V10.4665L8.9415 7.60541C8.91153 7.56294 8.89431 7.51275 8.8919 7.46078C8.88948 7.40881 8.90196 7.35724 8.92786 7.31215C8.95152 7.27082 8.9857 7.23653 9.0269 7.21276C9.07565 7.18461 9.13185 7.17216 9.18789 7.17707V7.17707L12.6622 7.48401C12.7076 7.4883 12.7512 7.50397 12.789 7.52958C12.8268 7.55519 12.8576 7.58991 12.8785 7.63056C12.8994 7.6712 12.9097 7.71646 12.9086 7.76216C12.9075 7.80787 12.8949 7.85256 12.872 7.89211L12.8731 7.89129Z' fill='white'/>
  </g>
  <path d='M18.6749 3.71629C18.3273 3.71629 18.036 3.60801 17.8011 3.39145C17.5756 3.16547 17.4629 2.88771 17.4629 2.55816C17.4629 2.22861 17.5756 1.95555 17.8011 1.73899C18.036 1.51301 18.3273 1.40002 18.6749 1.40002C19.0226 1.40002 19.3091 1.51301 19.5346 1.73899C19.7695 1.95555 19.887 2.22861 19.887 2.55816C19.887 2.88771 19.7695 3.16547 19.5346 3.39145C19.3091 3.60801 19.0226 3.71629 18.6749 3.71629ZM19.6474 4.64845V12.4729H17.6743V4.64845H19.6474Z' fill='black'/>
  <path d='M24.5847 12.6C23.9458 12.6 23.3726 12.487 22.8652 12.2611C22.3579 12.0257 21.9539 11.7102 21.6532 11.3148C21.3619 10.9193 21.2022 10.4815 21.174 10.0013H23.1612C23.1988 10.3026 23.3444 10.5521 23.5981 10.7498C23.8612 10.9476 24.1853 11.0464 24.5706 11.0464C24.9464 11.0464 25.2377 10.9711 25.4444 10.8205C25.6605 10.6698 25.7685 10.4768 25.7685 10.2414C25.7685 9.98716 25.637 9.79885 25.3739 9.67644C25.1202 9.54462 24.7115 9.40339 24.1478 9.25273C23.5652 9.1115 23.086 8.96556 22.7102 8.8149C22.3438 8.66425 22.0243 8.43357 21.7519 8.12285C21.4888 7.81213 21.3572 7.39313 21.3572 6.86585C21.3572 6.43273 21.4794 6.03727 21.7237 5.67947C21.9773 5.32167 22.3344 5.0392 22.7948 4.83205C23.2646 4.62491 23.8142 4.52134 24.4437 4.52134C25.3739 4.52134 26.1162 4.75673 26.6705 5.22751C27.2249 5.68888 27.5302 6.31503 27.5866 7.10595H25.6981C25.6699 6.79523 25.5383 6.55042 25.3034 6.37152C25.0779 6.18321 24.7726 6.08905 24.3874 6.08905C24.0303 6.08905 23.7531 6.15496 23.5558 6.28678C23.3679 6.4186 23.274 6.60221 23.274 6.8376C23.274 7.10124 23.4055 7.30368 23.6686 7.44492C23.9317 7.57674 24.3404 7.71326 24.8947 7.8545C25.4585 7.99574 25.9236 8.14168 26.29 8.29233C26.6564 8.44298 26.9712 8.67838 27.2343 8.99851C27.5067 9.30923 27.6477 9.72352 27.6571 10.2414C27.6571 10.6933 27.5302 11.0982 27.2765 11.456C27.0322 11.8138 26.6752 12.0963 26.2054 12.3034C25.745 12.5012 25.2048 12.6 24.5847 12.6Z' fill='black'/>
  <path d='M32.2646 12.6C31.6256 12.6 31.0525 12.487 30.5451 12.2611C30.0378 12.0257 29.6338 11.7102 29.3331 11.3148C29.0418 10.9193 28.8821 10.4815 28.8539 10.0013H30.8411C30.8787 10.3026 31.0243 10.5521 31.278 10.7498C31.5411 10.9476 31.8652 11.0464 32.2505 11.0464C32.6263 11.0464 32.9176 10.9711 33.1243 10.8205C33.3404 10.6698 33.4484 10.4768 33.4484 10.2414C33.4484 9.98716 33.3169 9.79885 33.0538 9.67644C32.8001 9.54462 32.3914 9.40339 31.8277 9.25273C31.2451 9.1115 30.7659 8.96556 30.3901 8.8149C30.0237 8.66425 29.7042 8.43357 29.4318 8.12285C29.1687 7.81213 29.0371 7.39313 29.0371 6.86585C29.0371 6.43273 29.1593 6.03727 29.4036 5.67947C29.6572 5.32167 30.0143 5.0392 30.4747 4.83205C30.9445 4.62491 31.4941 4.52134 32.1236 4.52134C33.0538 4.52134 33.7961 4.75673 34.3504 5.22751C34.9048 5.68888 35.2101 6.31503 35.2665 7.10595H33.378C33.3498 6.79523 33.2182 6.55042 32.9833 6.37152C32.7578 6.18321 32.4525 6.08905 32.0672 6.08905C31.7102 6.08905 31.433 6.15496 31.2357 6.28678C31.0478 6.4186 30.9539 6.60221 30.9539 6.8376C30.9539 7.10124 31.0854 7.30368 31.3485 7.44492C31.6116 7.57674 32.0203 7.71326 32.5746 7.8545C33.1384 7.99574 33.6034 8.14168 33.9699 8.29233C34.3363 8.44298 34.6511 8.67838 34.9142 8.99851C35.1866 9.30923 35.3276 9.72352 35.337 10.2414C35.337 10.6933 35.2101 11.0982 34.9564 11.456C34.7121 11.8138 34.3551 12.0963 33.8853 12.3034C33.4249 12.5012 32.8847 12.6 32.2646 12.6Z' fill='black'/>
  <path d='M44.3276 4.64845V12.4729H42.3404V11.4843C42.0867 11.8232 41.7531 12.0916 41.3397 12.2893C40.9357 12.4776 40.4941 12.5718 40.0149 12.5718C39.4042 12.5718 38.864 12.4447 38.3942 12.1904C37.9244 11.9268 37.5532 11.5455 37.2808 11.0464C37.0177 10.538 36.8862 9.93537 36.8862 9.23861V4.64845H38.8593V8.95614C38.8593 9.57758 39.0143 10.0578 39.3243 10.3967C39.6344 10.7263 40.0572 10.8911 40.5928 10.8911C41.1377 10.8911 41.5652 10.7263 41.8753 10.3967C42.1853 10.0578 42.3404 9.57758 42.3404 8.95614V4.64845H44.3276Z' fill='black'/>
  <path d='M53.5325 8.3912C53.5325 8.67367 53.5137 8.92789 53.4762 9.15387H47.7683C47.8152 9.71881 48.0126 10.1614 48.3602 10.4815C48.7078 10.8016 49.1353 10.9617 49.6427 10.9617C50.3756 10.9617 50.897 10.6463 51.2071 10.0154H53.3352C53.1097 10.7687 52.6775 11.3901 52.0386 11.8797C51.3997 12.3599 50.6152 12.6 49.685 12.6C48.9333 12.6 48.2568 12.4352 47.6555 12.1057C47.0636 11.7667 46.5985 11.2912 46.2603 10.6792C45.9314 10.0672 45.767 9.36102 45.767 8.56068C45.767 7.75093 45.9314 7.04004 46.2603 6.42802C46.5891 5.816 47.0495 5.34521 47.6414 5.01566C48.2334 4.68611 48.9145 4.52134 49.685 4.52134C50.4273 4.52134 51.0897 4.6814 51.6722 5.00154C52.2641 5.32167 52.7198 5.77833 53.0393 6.37152C53.3681 6.9553 53.5325 7.62852 53.5325 8.3912ZM51.489 7.82625C51.4796 7.3178 51.2964 6.91293 50.9393 6.61163C50.5823 6.30091 50.1454 6.14555 49.6286 6.14555C49.14 6.14555 48.7266 6.2962 48.3884 6.5975C48.0595 6.88939 47.8575 7.29897 47.7824 7.82625H51.489Z' fill='black'/>
  <path d='M59.2995 4.53546C60.2296 4.53546 60.9813 4.83205 61.5544 5.42524C62.1276 6.00902 62.4141 6.82819 62.4141 7.88275V12.4729H60.441V8.15109C60.441 7.52966 60.286 7.05416 59.9759 6.72461C59.6659 6.38565 59.2431 6.21616 58.7075 6.21616C58.1626 6.21616 57.7304 6.38565 57.4109 6.72461C57.1009 7.05416 56.9458 7.52966 56.9458 8.15109V12.4729H54.9727V4.64845H56.9458V5.62298C57.2089 5.28401 57.5425 5.02037 57.9465 4.83205C58.3599 4.63432 58.8109 4.53546 59.2995 4.53546Z' fill='black'/>
  <path d='M67.7575 12.6C67.0058 12.6 66.3293 12.4352 65.728 12.1057C65.1267 11.7667 64.6522 11.2912 64.3045 10.6792C63.9663 10.0672 63.7972 9.36102 63.7972 8.56068C63.7972 7.76034 63.971 7.05416 64.3186 6.44214C64.6757 5.83012 65.1596 5.35933 65.7703 5.02978C66.381 4.69082 67.0622 4.52134 67.8138 4.52134C68.5655 4.52134 69.2467 4.69082 69.8574 5.02978C70.4681 5.35933 70.9473 5.83012 71.295 6.44214C71.652 7.05416 71.8305 7.76034 71.8305 8.56068C71.8305 9.36102 71.6473 10.0672 71.2809 10.6792C70.9238 11.2912 70.4353 11.7667 69.8151 12.1057C69.2044 12.4352 68.5185 12.6 67.7575 12.6ZM67.7575 10.8769C68.1145 10.8769 68.4481 10.7922 68.7581 10.6227C69.0776 10.4438 69.3313 10.1802 69.5192 9.8318C69.7071 9.48342 69.801 9.05971 69.801 8.56068C69.801 7.81684 69.6037 7.24719 69.2091 6.85173C68.8239 6.44685 68.3494 6.24441 67.7857 6.24441C67.2219 6.24441 66.7474 6.44685 66.3622 6.85173C65.9864 7.24719 65.7985 7.81684 65.7985 8.56068C65.7985 9.30452 65.9817 9.87888 66.3481 10.2838C66.7239 10.6792 67.1937 10.8769 67.7575 10.8769Z' fill='black'/>
  <path d='M75.5751 6.27266V10.0578C75.5751 10.3214 75.6362 10.5144 75.7583 10.6368C75.8899 10.7498 76.106 10.8063 76.4066 10.8063H77.3227V12.4729H76.0825C74.4194 12.4729 73.5879 11.6632 73.5879 10.0437V6.27266H72.6577V4.64845H73.5879V2.71352H75.5751V4.64845H77.3227V6.27266H75.5751Z' fill='black'/>
  <path d='M86.0001 8.3912C86.0001 8.67367 85.9813 8.92789 85.9437 9.15387H80.2358C80.2828 9.71881 80.4801 10.1614 80.8277 10.4815C81.1754 10.8016 81.6029 10.9617 82.1102 10.9617C82.8431 10.9617 83.3646 10.6463 83.6746 10.0154H85.8028C85.5773 10.7687 85.1451 11.3901 84.5061 11.8797C83.8672 12.3599 83.0827 12.6 82.1525 12.6C81.4009 12.6 80.7244 12.4352 80.123 12.1057C79.5311 11.7667 79.066 11.2912 78.7278 10.6792C78.3989 10.0672 78.2345 9.36102 78.2345 8.56068C78.2345 7.75093 78.3989 7.04004 78.7278 6.42802C79.0566 5.816 79.517 5.34521 80.1089 5.01566C80.7009 4.68611 81.3821 4.52134 82.1525 4.52134C82.8948 4.52134 83.5572 4.6814 84.1397 5.00154C84.7316 5.32167 85.1873 5.77833 85.5068 6.37152C85.8356 6.9553 86.0001 7.62852 86.0001 8.3912ZM83.9565 7.82625C83.9471 7.3178 83.7639 6.91293 83.4068 6.61163C83.0498 6.30091 82.6129 6.14555 82.0961 6.14555C81.6076 6.14555 81.1942 6.2962 80.8559 6.5975C80.5271 6.88939 80.3251 7.29897 80.2499 7.82625H83.9565Z' fill='black'/>
  <defs>
    <filter id='filter0_d' x='-21.9209' y='-16.1899' width='48.5058' height='50.3819' filterUnits='userSpaceOnUse' colorInterpolationFilters='sRGB'>
      <feFlood floodOpacity='0' result='BackgroundImageFix'/>
      <feColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0' result='hardAlpha'/>
      <feOffset dx='-4' dy='2'/>
      <feGaussianBlur stdDeviation='10'/>
      <feComposite in2='hardAlpha' operator='out'/>
      <feColorMatrix type='matrix' values='0 0 0 0 0.12549 0 0 0 0 0.360784 0 0 0 0 0.847059 0 0 0 1 0'/>
      <feBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow'/>
      <feBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow' result='shape'/>
    </filter>
    <linearGradient id='paint0_linear' x1='6.98513' y1='14' x2='6.98513' y2='0' gradientUnits='userSpaceOnUse'>
      <stop stopColor='#205CD8'/>
      <stop offset='1' stopColor='#439CEF'/>
    </linearGradient>
    <clipPath id='clip0'>
      <rect width='13.9703' height='14' fill='white'/>
    </clipPath>
  </defs>
</svg>
